#!/usr/bin/env node

var path  = require('path');
var opts  = require('nomnom')
  .option('port', {
    abbr    : 'p',
    metavar : 'PORT',
    default : 8228,
    help    : 'Port to listen on',
  }).option('rule-dir', {
    abbr    : 'r',
    metavar : 'DIRECTORY',
    default : path.normalize(process.env.HOME + '/.node-ad-block'),
    help    : 'Directory where rules files reside',
  }).option('log-level', {
    abbr    : 'l',
    metavar : 'LEVEL',
    default : 'warn',
    help    : 'Log level ("trace", "debug", "info", "warn", "error", "fatal")',
  }).parse();

require('../lib').AdBlockProxy(opts).run();
